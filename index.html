<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FETCH REQUEST GENERATOR</title>
  <style>
    .body {
      width: 100%,
      height: 75vh
    }
    
    .method {
      width: 100%,
      height: 75%
    }
    
  </style>
</head>

<body>
  <input tupe="text/plain" class="url" placeholder="url... ex: example.com" />
  <select name="method" class="method">
    <option value="GET">GET</option>
    <option value="POST">POST</option>
    <option value="PUT">PUT</option>
    <option value="PATCH">PATCH</option>
    <option value="DELETE">DELETE</option>
  </select>
  <br><br><br>
  <textarea class="json" disabled>
    {
      foo: "bar"
    }
  </textarea>
  <br><br>
  <button class="request">fetch</button>
  <script>
    const url = document.querySelector('.url');
    const methodEl = document.querySelector('.method');
    const data = document.querySelector('.json');
    const reqBtn = document.querySelector('.request');

    methodEl.addEventListener('onchange',()=>{
      console.log(methodEl.value)
      if(methodEl.value==='GET'||methodEl.value==="DELETE"){
        data.disabled=true
      }else{
        data.disabled=false
      }
    })

    reqBtn.addEventListener('click',()=>{
      if(methodEl.value==='GET'||methodEl.value==="DELETE"){
        fetch(url.value,{
          method: methodEl.value
        })
      }else{
        fetch(url.value,{
          method: methodEl.value,
          body: data.value
        })
      }
    })
  </script>
</body>

</html>
